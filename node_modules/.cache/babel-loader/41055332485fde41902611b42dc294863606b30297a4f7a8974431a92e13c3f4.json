{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import PizzaService from\"../../API/PizzaService.ts\";export let Status=/*#__PURE__*/function(Status){Status[\"LOADING\"]=\"loading\";Status[\"SUCCESS\"]=\"success\";Status[\"ERROR\"]=\"error\";return Status;}({});const initialState={items:[],status:Status.LOADING};export const fetchPizzas=createAsyncThunk(\"pizza/getAll\",async currentPage=>{const response=await PizzaService.getAll(String(currentPage));return response.data;});const pizzaSlice=createSlice({name:\"pizzas\",initialState,reducers:{setItems(state,action){state.items=action.payload;}},extraReducers:builder=>{builder.addCase(fetchPizzas.fulfilled,(state,action)=>{state.items=action.payload;state.status=Status.SUCCESS;}),builder.addCase(fetchPizzas.rejected,state=>{state.items=[];state.status=Status.ERROR;});builder.addCase(fetchPizzas.pending,state=>{state.items=[];state.status=Status.LOADING;});}});export const selectorPizzas=state=>state.pizzas;export const{setItems}=pizzaSlice.actions;export default pizzaSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","PizzaService","Status","initialState","items","status","LOADING","fetchPizzas","currentPage","response","getAll","String","data","pizzaSlice","name","reducers","setItems","state","action","payload","extraReducers","builder","addCase","fulfilled","SUCCESS","rejected","ERROR","pending","selectorPizzas","pizzas","actions","reducer"],"sources":["C:/Users/skaullin62/Desktop/ReactAppsTS/pizza/src/Redux/slices/pizzasSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport PizzaService from \"../../API/PizzaService.ts\";\r\nimport { RootState } from \"../store.ts\";\r\n\r\n\r\nexport enum Status {\r\n  LOADING = 'loading',\r\n  SUCCESS = 'success',\r\n  ERROR = 'error'\r\n}\r\n\r\nexport type Item = {\r\n  id: string,\r\n  imageUrl: string,\r\n  title: string,\r\n  types: number[],\r\n  sizes: number[],\r\n  price: number,\r\n  category: number,\r\n  rating: number,\r\n}\r\n\r\ninterface IItem {\r\n  items: Item[],\r\n  status: Status\r\n}\r\n\r\nconst initialState: IItem = {\r\n  items: [],\r\n  status: Status.LOADING,\r\n};\r\n\r\nexport const fetchPizzas = createAsyncThunk(\r\n  \"pizza/getAll\",\r\n  async (currentPage: number) => {\r\n    const response = await PizzaService.getAll(String(currentPage));\r\n\r\n    return response.data as Item[];\r\n  }\r\n);\r\n\r\nconst pizzaSlice = createSlice({\r\n  name: \"pizzas\",\r\n  initialState,\r\n  reducers: {\r\n    setItems(state, action) {\r\n      state.items = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchPizzas.fulfilled, (state, action: PayloadAction<Item[]>):void => {\r\n      state.items = action.payload;\r\n          state.status = Status.SUCCESS;\r\n    }),\r\n    builder.addCase(fetchPizzas.rejected, (state) => {\r\n      state.items = [];\r\n          state.status = Status.ERROR;\r\n    })\r\n    builder.addCase(fetchPizzas.pending, (state) => {\r\n      state.items = [];\r\n          state.status = Status.LOADING;\r\n    })\r\n  }\r\n\r\n});\r\n\r\nexport const selectorPizzas = (state: RootState) => state.pizzas;\r\nexport const { setItems } = pizzaSlice.actions;\r\n\r\nexport default pizzaSlice.reducer;\r\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAuB,kBAAkB,CAC/E,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CAIpD,UAAY,CAAAC,MAAM,uBAANA,MAAM,EAANA,MAAM,sBAANA,MAAM,sBAANA,MAAM,wBAAN,CAAAA,MAAM,OAsBlB,KAAM,CAAAC,YAAmB,CAAG,CAC1BC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAEH,MAAM,CAACI,OACjB,CAAC,CAED,MAAO,MAAM,CAAAC,WAAW,CAAGP,gBAAgB,CACzC,cAAc,CACd,KAAO,CAAAQ,WAAmB,EAAK,CAC7B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAR,YAAY,CAACS,MAAM,CAACC,MAAM,CAACH,WAAW,CAAC,CAAC,CAE/D,MAAO,CAAAC,QAAQ,CAACG,IAAI,CACtB,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGd,WAAW,CAAC,CAC7Be,IAAI,CAAE,QAAQ,CACdX,YAAY,CACZY,QAAQ,CAAE,CACRC,QAAQA,CAACC,KAAK,CAAEC,MAAM,CAAE,CACtBD,KAAK,CAACb,KAAK,CAAGc,MAAM,CAACC,OAAO,CAC9B,CACF,CAAC,CACDC,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OAAO,CAACC,OAAO,CAACf,WAAW,CAACgB,SAAS,CAAE,CAACN,KAAK,CAAEC,MAA6B,GAAU,CACpFD,KAAK,CAACb,KAAK,CAAGc,MAAM,CAACC,OAAO,CACxBF,KAAK,CAACZ,MAAM,CAAGH,MAAM,CAACsB,OAAO,CACnC,CAAC,CAAC,CACFH,OAAO,CAACC,OAAO,CAACf,WAAW,CAACkB,QAAQ,CAAGR,KAAK,EAAK,CAC/CA,KAAK,CAACb,KAAK,CAAG,EAAE,CACZa,KAAK,CAACZ,MAAM,CAAGH,MAAM,CAACwB,KAAK,CACjC,CAAC,CAAC,CACFL,OAAO,CAACC,OAAO,CAACf,WAAW,CAACoB,OAAO,CAAGV,KAAK,EAAK,CAC9CA,KAAK,CAACb,KAAK,CAAG,EAAE,CACZa,KAAK,CAACZ,MAAM,CAAGH,MAAM,CAACI,OAAO,CACnC,CAAC,CAAC,CACJ,CAEF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAsB,cAAc,CAAIX,KAAgB,EAAKA,KAAK,CAACY,MAAM,CAChE,MAAO,MAAM,CAAEb,QAAS,CAAC,CAAGH,UAAU,CAACiB,OAAO,CAE9C,cAAe,CAAAjB,UAAU,CAACkB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}