{"ast":null,"code":"import React from\"react\";import styles from\"./Search.module.scss\";import{debounce}from\"../../utils/debounce.ts\";import{useDispatch}from\"react-redux\";import{setSearchValue}from\"../../Redux/slices/filterSlice.ts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Search(){const[localSearchValue,setLocalSearchValue]=React.useState(\"\");const dispatch=useDispatch();const searchValueRef=React.useRef(null);function onClearSearch(){var _searchValueRef$curre,_searchValueRef$curre2;setLocalSearchValue(\"\");dispatch(setSearchValue(\"\"));searchValueRef===null||searchValueRef===void 0?void 0:(_searchValueRef$curre=searchValueRef.current)===null||_searchValueRef$curre===void 0?void 0:(_searchValueRef$curre2=_searchValueRef$curre.focus)===null||_searchValueRef$curre2===void 0?void 0:_searchValueRef$curre2.call(_searchValueRef$curre);}const debounceSearch=React.useCallback(debounce(str=>{dispatch(setSearchValue(str));},300),[]);function setWithDebounce(val){setLocalSearchValue(val);//@ts-ignore\ndebounceSearch(val);}return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsxs(\"svg\",{className:styles.svg,fill:\"#000000\",height:\"200px\",width:\"200px\",version:\"1.1\",id:\"Capa_1\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 488.4 488.4\",children:[/*#__PURE__*/_jsx(\"g\",{id:\"SVGRepo_bgCarrier\",\"stroke-width\":\"0\"}),/*#__PURE__*/_jsx(\"g\",{id:\"SVGRepo_tracerCarrier\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsxs(\"g\",{id:\"SVGRepo_iconCarrier\",children:[\" \",/*#__PURE__*/_jsxs(\"g\",{children:[\" \",/*#__PURE__*/_jsxs(\"g\",{children:[\" \",/*#__PURE__*/_jsx(\"path\",{d:\"M0,203.25c0,112.1,91.2,203.2,203.2,203.2c51.6,0,98.8-19.4,134.7-51.2l129.5,129.5c2.4,2.4,5.5,3.6,8.7,3.6 s6.3-1.2,8.7-3.6c4.8-4.8,4.8-12.5,0-17.3l-129.6-129.5c31.8-35.9,51.2-83,51.2-134.7c0-112.1-91.2-203.2-203.2-203.2 S0,91.15,0,203.25z M381.9,203.25c0,98.5-80.2,178.7-178.7,178.7s-178.7-80.2-178.7-178.7s80.2-178.7,178.7-178.7 S381.9,104.65,381.9,203.25z\"}),\" \"]}),\" \"]}),\" \"]})]}),/*#__PURE__*/_jsx(\"input\",{ref:searchValueRef,value:localSearchValue,onChange:e=>setWithDebounce(e.target.value),className:styles.input,placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u0438\\u0446\\u0446\\u044B\"}),localSearchValue&&/*#__PURE__*/_jsx(\"svg\",{onClick:()=>onClearSearch(),className:styles.close,xmlns:\"http://www.w3.org/2000/svg\",x:\"0px\",y:\"0px\",width:\"100\",height:\"100\",viewBox:\"0 0 50 50\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M 7.71875 6.28125 L 6.28125 7.71875 L 23.5625 25 L 6.28125 42.28125 L 7.71875 43.71875 L 25 26.4375 L 42.28125 43.71875 L 43.71875 42.28125 L 26.4375 25 L 43.71875 7.71875 L 42.28125 6.28125 L 25 23.5625 Z\"})})]});}","map":{"version":3,"names":["React","styles","debounce","useDispatch","setSearchValue","jsx","_jsx","jsxs","_jsxs","Search","localSearchValue","setLocalSearchValue","useState","dispatch","searchValueRef","useRef","onClearSearch","_searchValueRef$curre","_searchValueRef$curre2","current","focus","call","debounceSearch","useCallback","str","setWithDebounce","val","className","root","children","svg","fill","height","width","version","id","xmlns","viewBox","strokeLinecap","strokeLinejoin","d","ref","value","onChange","e","target","input","placeholder","onClick","close","x","y"],"sources":["C:/Users/skaullin62/Desktop/ReactAppsTS/pizza/src/components/Search/Search.tsx"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./Search.module.scss\";\r\nimport { SearchContext } from \"../../Contexts/SearchContext\";\r\nimport { debounce } from \"../../utils/debounce.ts\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setSearchValue } from \"../../Redux/slices/filterSlice.ts\";\r\nexport default function Search() {\r\n  const [localSearchValue, setLocalSearchValue] = React.useState<string>(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const searchValueRef = React.useRef<HTMLInputElement>(null);\r\n\r\n  function onClearSearch() {\r\n    setLocalSearchValue(\"\");\r\n    dispatch(setSearchValue(\"\"));\r\n    searchValueRef?.current?.focus?.();\r\n  }\r\n\r\n  const debounceSearch = React.useCallback(\r\n    debounce((str: string) => {\r\n      dispatch(setSearchValue(str));\r\n    }, 300),\r\n    []\r\n  );\r\n\r\n  function setWithDebounce(val: string) {\r\n    setLocalSearchValue(val);\r\n    //@ts-ignore\r\n    debounceSearch(val);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      <svg\r\n        className={styles.svg}\r\n        fill=\"#000000\"\r\n        height=\"200px\"\r\n        width=\"200px\"\r\n        version=\"1.1\"\r\n        id=\"Capa_1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 488.4 488.4\"\r\n      >\r\n        <g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g>\r\n        <g\r\n          id=\"SVGRepo_tracerCarrier\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        ></g>\r\n        <g id=\"SVGRepo_iconCarrier\">\r\n          {\" \"}\r\n          <g>\r\n            {\" \"}\r\n            <g>\r\n              {\" \"}\r\n              <path d=\"M0,203.25c0,112.1,91.2,203.2,203.2,203.2c51.6,0,98.8-19.4,134.7-51.2l129.5,129.5c2.4,2.4,5.5,3.6,8.7,3.6 s6.3-1.2,8.7-3.6c4.8-4.8,4.8-12.5,0-17.3l-129.6-129.5c31.8-35.9,51.2-83,51.2-134.7c0-112.1-91.2-203.2-203.2-203.2 S0,91.15,0,203.25z M381.9,203.25c0,98.5-80.2,178.7-178.7,178.7s-178.7-80.2-178.7-178.7s80.2-178.7,178.7-178.7 S381.9,104.65,381.9,203.25z\"></path>{\" \"}\r\n            </g>{\" \"}\r\n          </g>{\" \"}\r\n        </g>\r\n      </svg>\r\n      <input\r\n        ref={searchValueRef}\r\n        value={localSearchValue}\r\n        onChange={(e) => setWithDebounce(e.target.value)}\r\n        className={styles.input}\r\n        placeholder=\"Поиск пиццы\"\r\n      />\r\n      {localSearchValue && (\r\n        <svg\r\n          onClick={() => onClearSearch()}\r\n          className={styles.close}\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          x=\"0px\"\r\n          y=\"0px\"\r\n          width=\"100\"\r\n          height=\"100\"\r\n          viewBox=\"0 0 50 50\"\r\n        >\r\n          <path d=\"M 7.71875 6.28125 L 6.28125 7.71875 L 23.5625 25 L 6.28125 42.28125 L 7.71875 43.71875 L 25 26.4375 L 42.28125 43.71875 L 43.71875 42.28125 L 26.4375 25 L 43.71875 7.71875 L 42.28125 6.28125 L 25 23.5625 Z\"></path>\r\n        </svg>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}