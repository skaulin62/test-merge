{"ast":null,"code":"import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{addItem,selectorFind}from\"../../Redux/slices/cardSlice.ts\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PizzaCard=_ref=>{let{item}=_ref;const dispatch=useDispatch();const[sizeIndex,setSizeIndex]=useState(0);const[typeIndex,setTypeIndex]=useState(0);const typeNames=[\"Тонкое\",\"Традиционное\"];const cartItem=useSelector(selectorFind(item.id));const count=cartItem?cartItem.count:0;function addCart(){const cart={id:item.id,title:item.title,price:item.price,imageUrl:item.imageUrl,type:String(typeNames[Number(typeIndex)]),size:item.sizes[Number(sizeIndex)],category:item.category,rating:item.rating,count:0};dispatch(addItem(cart));}return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-block__wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsx(Link,{to:\"/pizza/\".concat(item.id),children:/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:item.imageUrl,alt:\"Pizza\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:item.types.map((type,index)=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>setTypeIndex(index),className:index===typeIndex?\"active\":\"\",children:typeNames[type]},index))}),/*#__PURE__*/_jsx(\"ul\",{children:item.sizes.map((size,index)=>/*#__PURE__*/_jsxs(\"li\",{className:sizeIndex===index?\"active\":\"\",onClick:()=>setSizeIndex(index),children:[size,\" \\u0441\\u043C.\"]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\"\\u043E\\u0442 \",item.price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>addCart(),children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),count>0&&/*#__PURE__*/_jsx(\"i\",{children:count})]})]})]})});};export default PizzaCard;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","addItem","selectorFind","Link","jsx","_jsx","jsxs","_jsxs","PizzaCard","_ref","item","dispatch","sizeIndex","setSizeIndex","typeIndex","setTypeIndex","typeNames","cartItem","id","count","addCart","cart","title","price","imageUrl","type","String","Number","size","sizes","category","rating","className","children","to","concat","src","alt","types","map","index","onClick","width","height","viewBox","fill","xmlns","d"],"sources":["C:/Users/skaullin62/Desktop/ReactAppsTS/pizza/src/components/PizzaCard/PizzaCard.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addItem, selectorFind } from \"../../Redux/slices/cardSlice.ts\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Item } from \"../../Redux/slices/cardSlice.ts\";\r\nimport { Item as ItemCart } from \"../../Redux/slices/pizzasSlice.js\";\r\ntype Props = {\r\n  item: ItemCart;\r\n};\r\n\r\nconst PizzaCard: React.FC<Props> = ({ item }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [sizeIndex, setSizeIndex] = useState<Number>(0);\r\n  const [typeIndex, setTypeIndex] = useState<Number>(0);\r\n  const typeNames: String[] = [\"Тонкое\", \"Традиционное\"];\r\n  const cartItem = useSelector(selectorFind(item.id));\r\n  const count = cartItem ? cartItem.count : 0;\r\n  function addCart() {\r\n    const cart: Item = {\r\n      id: item.id,\r\n      title: item.title,\r\n      price: item.price,\r\n      imageUrl: item.imageUrl,\r\n      type: String(typeNames[Number(typeIndex)]),\r\n      size: item.sizes[Number(sizeIndex)],\r\n      category: item.category,\r\n      rating: item.rating,\r\n      count: 0,\r\n    };\r\n\r\n    dispatch(addItem(cart));\r\n  }\r\n\r\n  return (\r\n    <div className=\"pizza-block__wrapper\">\r\n      <div className=\"pizza-block\">\r\n        <Link to={`/pizza/${item.id}`}>\r\n          <img className=\"pizza-block__image\" src={item.imageUrl} alt=\"Pizza\" />\r\n        </Link>\r\n        <h4 className=\"pizza-block__title\">{item.title}</h4>\r\n        <div className=\"pizza-block__selector\">\r\n          <ul>\r\n            {item.types.map((type: number, index: number) => (\r\n              <li\r\n                onClick={() => setTypeIndex(index)}\r\n                className={index === typeIndex ? \"active\" : \"\"}\r\n                key={index}\r\n              >\r\n                {typeNames[type]}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <ul>\r\n            {item.sizes.map((size: number, index: number) => (\r\n              <li\r\n                className={sizeIndex === index ? \"active\" : \"\"}\r\n                onClick={() => setSizeIndex(index)}\r\n                key={index}\r\n              >\r\n                {size} см.\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"pizza-block__bottom\">\r\n          <div className=\"pizza-block__price\">от {item.price} ₽</div>\r\n          <div className=\"button button--outline button--add\">\r\n            <svg\r\n              width=\"12\"\r\n              height=\"12\"\r\n              viewBox=\"0 0 12 12\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                fill=\"white\"\r\n              />\r\n            </svg>\r\n            <span onClick={() => addCart()}>Добавить</span>\r\n            {count > 0 && <i>{count}</i>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PizzaCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}